<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rfish">
<title>Simulating a fished population • rfish</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulating a fished population">
<meta property="og:description" content="rfish">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rfish</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
    Home
  </a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--tutorials">
    <span class="fa fa-book fa-lg"></span>
     
    Tutorials
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--tutorials">
    <a class="dropdown-item" href="../articles/single_fish.html">
      <span class="fa fa-fish"></span>
       
      Simulating a single fish
    </a>
    <a class="dropdown-item" href="../articles/fish_population.html">
      <span class="fa fa-fish"></span>
       
      Simulating an unfished population
    </a>
    <a class="dropdown-item" href="../articles/fished_population.html">
      <span class="fa fa-fish"></span>
       
      Simulating a fished population
    </a>
    <a class="dropdown-item" href="../articles/multi_populations.html">
      <span class="fa fa-fish"></span>
       
      Simulating multiple populations at once
    </a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../html/index.html">
    <span class="fa fa-code fa-lg"></span>
     
    API
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../articles/news.html">
    <span class="fa fa-newspaper fa-lg"></span>
     
    News
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jaideep777/rfish">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Simulating a fished population</h1>
                        <h4 data-toc-skip class="author">Jaideep
Joshi</h4>
            
            <h4 data-toc-skip class="date">28 March 2022</h4>
      
      
      <div class="d-none name"><code>fished_population.Rmd</code></div>
    </div>

    
    
<p>To simulate a fished population, it is essential to first simulate an
unfished population until equilibrium. The properties of such an
unfished equilibriated population must be used to simulate a fished
population.</p>
<div class="section level3">
<h3 id="quickly-simulating-an-unfished-population-to-equilibrium">Quickly simulating an unfished population to equilibrium<a class="anchor" aria-label="anchor" href="#quickly-simulating-an-unfished-population-to-equilibrium"></a>
</h3>
<p>It is possible to manually simulate a non-fished population to
equilibrium as demonstrated in the previous tutorial. But there’s an
easier way: to quickly simulate an unfished population, we can use the
function <code>noFishingEquilibriate()</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a prototype fish as usual</span>
<span class="va">fish</span> <span class="op">=</span> <span class="fu">new</span><span class="op">(</span><span class="va">Fish</span><span class="op">)</span>
<span class="va">fish</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">s0</span> <span class="op">=</span> <span class="fl">0.09637</span>
<span class="va">fish</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">Bhalf_growth</span> <span class="op">=</span> <span class="fl">100e11</span>

<span class="co"># Create a population</span>
<span class="va">pop_K</span> <span class="op">=</span> <span class="fu">new</span><span class="op">(</span><span class="va">Population</span>, <span class="va">fish</span><span class="op">)</span>
<span class="va">pop_K</span><span class="op">$</span><span class="fu">set_superFishSize</span><span class="op">(</span><span class="fl">1e6</span><span class="op">)</span>

<span class="co"># Equilibriate under no-fishing conditions</span>
<span class="va">K_ibm</span> <span class="op">=</span> <span class="va">pop_K</span><span class="op">$</span><span class="fu">noFishingEquilibriate</span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-a-simulator-to-simulate-populations">Using a simulator to simulate populations<a class="anchor" aria-label="anchor" href="#using-a-simulator-to-simulate-populations"></a>
</h3>
<p>The <code>rfish</code> package provides a simulator to easily
simulate populations of fish without the hassle of manual updating. The
simulator can also simulate multiple populations with different control
parameters at once, making it very convenient to analyse the control
space (we will look at the control space in a later tutorial).</p>
<p>To create a simulator, we need again need to specify a prototype
fish:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sim</span> <span class="op">=</span> <span class="fu">new</span><span class="op">(</span><span class="va">Simulator</span>, <span class="va">fish</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="copying-the-non-fished-population-in-the-simulator">copying the non-fished population in the simulator<a class="anchor" aria-label="anchor" href="#copying-the-non-fished-population-in-the-simulator"></a>
</h3>
<p>Before we can simulate a fished population, we need to copy the
equilibriated non-fished population in the simulator. The simulator will
calculate the required properties on this population in order to
simulate a fished population.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sim</span><span class="op">$</span><span class="fu">setNaturalPopulation</span><span class="op">(</span><span class="va">pop_K</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="simulating-a-fished-population">Simulating a fished population<a class="anchor" aria-label="anchor" href="#simulating-a-fished-population"></a>
</h3>
<p>Finally, we are ready to simulate a fished population. We create a
population to be simulated and set its parameters</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pop</span> <span class="op">=</span> <span class="fu">new</span><span class="op">(</span><span class="va">Population</span>, <span class="va">fish</span><span class="op">)</span>
<span class="va">pop</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">Bhalf</span> <span class="op">=</span> <span class="fl">365426284</span><span class="op">/</span><span class="fl">4.7</span>
<span class="va">pop</span><span class="op">$</span><span class="fu">set_superFishSize</span><span class="op">(</span><span class="fl">2e5</span><span class="op">)</span></code></pre></div>
<p>Then, suppose we want to simulate this population for 200 years with
a harvest proportion of 0.3 and minimum size limit of 45,</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nsteps</span> <span class="op">=</span> <span class="fl">200</span>
<span class="va">h</span> <span class="op">=</span> <span class="fl">0.3</span>
<span class="va">lf</span> <span class="op">=</span> <span class="fl">45</span></code></pre></div>
<p>we simply do</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res_ibm</span> <span class="op">=</span> <span class="va">sim</span><span class="op">$</span><span class="fu">simulate</span><span class="op">(</span><span class="va">pop</span>, <span class="va">lf</span>, <span class="va">h</span>, <span class="va">nsteps</span>, <span class="cn">T</span><span class="op">)</span></code></pre></div>
<p>The last argument is a flag to re-initialize the population before
simulating. If this flag is set to false, simulation will continue from
the current state of the population, allowing us to simulate different
control regimes over time.</p>
<p>Let’s plot the output from the simulation (compared with the model of
Dankel et al.XXX)</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></span><span class="op">(</span><span class="va">h</span>, <span class="va">lf</span>, <span class="cn">F</span><span class="op">)</span>

<span class="va">d</span> <span class="op">=</span> <span class="va">pop</span><span class="op">$</span><span class="fu">get_state</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">##    1    2    3    4    5    6    7    8    9   10   11   12   13   14   16   17 </span>
<span class="co">## 7910 3629 2095 1233  733  409  223  127   82   39   24   11   11    4    2    1</span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>

<span class="va">ssb.max</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">ssb</span><span class="op">/</span><span class="fl">1e9</span>, <span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">SSB</span><span class="op">/</span><span class="fl">1e9</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">ssb</span><span class="op">/</span><span class="fl">1e9</span>, x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="va">nsteps</span>,<span class="fl">1</span><span class="op">)</span>, ylab<span class="op">=</span><span class="st">"SSB (MT)"</span>, xlab<span class="op">=</span><span class="st">"Year"</span>, col<span class="op">=</span><span class="st">"cyan3"</span>, type<span class="op">=</span><span class="st">"l"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">ssb.max</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">SSB</span><span class="op">/</span><span class="fl">1e9</span>, x<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">year</span>, type<span class="op">=</span><span class="st">"l"</span><span class="op">)</span>

<span class="va">yield.max</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">yield</span><span class="op">/</span><span class="fl">1e9</span>, <span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">Y</span><span class="op">/</span><span class="fl">1e9</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">yield</span><span class="op">/</span><span class="fl">1e9</span>, x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="va">nsteps</span>,<span class="fl">1</span><span class="op">)</span>, ylab<span class="op">=</span><span class="st">"Yield (MT)"</span>, xlab<span class="op">=</span><span class="st">"Year"</span>, col<span class="op">=</span><span class="st">"cyan3"</span>, type<span class="op">=</span><span class="st">"l"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">yield.max</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">Y</span><span class="op">/</span><span class="fl">1e9</span>, x<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">year</span>, type<span class="op">=</span><span class="st">"l"</span><span class="op">)</span>

<span class="va">emp.max</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">employment.sea</span>, <span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">D.sea</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">employment.sea</span>, x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="va">nsteps</span>,<span class="fl">1</span><span class="op">)</span>, ylab<span class="op">=</span><span class="st">"Employment at sea (person-years)"</span>, xlab<span class="op">=</span><span class="st">"Year"</span>, col<span class="op">=</span><span class="st">"cyan3"</span>, type<span class="op">=</span><span class="st">"l"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">emp.max</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">D.sea</span>, x<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">year</span>, type<span class="op">=</span><span class="st">"l"</span><span class="op">)</span>

<span class="va">emp.max</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">employment.shore</span>, <span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">D.shr</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">employment.shore</span>, x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="va">nsteps</span>,<span class="fl">1</span><span class="op">)</span>, ylab<span class="op">=</span><span class="st">"Employment on shore (person-years)"</span>, xlab<span class="op">=</span><span class="st">"Year"</span>, col<span class="op">=</span><span class="st">"cyan3"</span>, type<span class="op">=</span><span class="st">"l"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">emp.max</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">D.shr</span>, x<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">year</span>, type<span class="op">=</span><span class="st">"l"</span><span class="op">)</span>

<span class="va">p.sea.max</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">profit.sea</span><span class="op">/</span><span class="fl">1e9</span>, <span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">P.sea</span><span class="op">/</span><span class="fl">1e9</span><span class="op">)</span><span class="op">)</span>
<span class="va">p.sea.min</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">profit.sea</span><span class="op">/</span><span class="fl">1e9</span>, <span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">P.sea</span><span class="op">/</span><span class="fl">1e9</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">profit.sea</span><span class="op">/</span><span class="fl">1e9</span>, x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="va">nsteps</span>,<span class="fl">1</span><span class="op">)</span>, ylab<span class="op">=</span><span class="st">"Profit at sea (Billions NOK)"</span>, xlab<span class="op">=</span><span class="st">"Year"</span>, col<span class="op">=</span><span class="st">"cyan3"</span>, type<span class="op">=</span><span class="st">"l"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">p.sea.min</span>,<span class="va">p.sea.max</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">P.sea</span><span class="op">/</span><span class="fl">1e9</span>, x<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">year</span>, type<span class="op">=</span><span class="st">"l"</span><span class="op">)</span>

<span class="va">p.shr.max</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">profit.shore</span><span class="op">/</span><span class="fl">1e9</span>, <span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">P.shr</span><span class="op">/</span><span class="fl">1e9</span><span class="op">)</span><span class="op">)</span>
<span class="va">p.shr.min</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">profit.shore</span><span class="op">/</span><span class="fl">1e9</span>, <span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">P.shr</span><span class="op">/</span><span class="fl">1e9</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res_ibm</span><span class="op">$</span><span class="va">profit.shore</span><span class="op">/</span><span class="fl">1e9</span>, x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="va">nsteps</span>,<span class="fl">1</span><span class="op">)</span>, ylab<span class="op">=</span><span class="st">"Profit at shore (Billions NOK)"</span>, xlab<span class="op">=</span><span class="st">"Year"</span>, col<span class="op">=</span><span class="st">"cyan3"</span>, type<span class="op">=</span><span class="st">"l"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">p.shr.min</span>,<span class="va">p.shr.max</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">P.shr</span><span class="op">/</span><span class="fl">1e9</span>, x<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">summaries</span><span class="op">$</span><span class="va">year</span>, type<span class="op">=</span><span class="st">"l"</span><span class="op">)</span></code></pre></div>
<p><img src="fished_population_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">d</span> <span class="op">=</span> <span class="va">pop</span><span class="op">$</span><span class="fu">get_state</span><span class="op">(</span><span class="op">)</span>
<span class="va">d1</span> <span class="op">=</span> <span class="va">d</span> <span class="op">%&gt;%</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">age</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">summarize</span><span class="op">(</span>mat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">isMature</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">isMature</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mat</span>, type<span class="op">=</span><span class="st">"l"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">d1</span><span class="op">$</span><span class="va">mat</span><span class="op">~</span><span class="va">d1</span><span class="op">$</span><span class="va">age</span>, type<span class="op">=</span><span class="st">"o"</span>, col<span class="op">=</span><span class="st">"cyan3"</span><span class="op">)</span></code></pre></div>
<p><img src="fished_population_files/figure-html/unnamed-chunk-8-2.png" width="700"></p>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://jaideep777.github.io" class="external-link">Jaideep
Joshi</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
